Version 4
SHEET 1 880 1356
WIRE -496 0 -496 -32
WIRE -304 0 -304 -32
WIRE -496 64 -496 0
WIRE -304 64 -304 0
WIRE -400 144 -496 144
WIRE -304 144 -400 144
WIRE -640 176 -720 176
WIRE -720 304 -720 256
WIRE 592 304 560 304
WIRE 704 304 656 304
WIRE -256 352 -256 336
WIRE 336 368 272 368
WIRE 496 368 432 368
WIRE -640 384 -640 176
WIRE -272 400 -336 400
WIRE -256 400 -256 352
WIRE -112 400 -176 400
WIRE 384 448 384 368
WIRE -400 464 -480 464
WIRE -336 464 -336 400
WIRE -336 464 -400 464
WIRE -112 464 -112 400
WIRE -32 464 -112 464
WIRE 32 464 -32 464
WIRE 272 464 272 368
WIRE 272 464 96 464
WIRE 496 464 496 368
WIRE 560 464 560 304
WIRE 560 464 496 464
WIRE 592 464 560 464
WIRE -224 480 -224 400
WIRE 704 480 704 304
WIRE 704 480 656 480
WIRE -640 496 -640 448
WIRE 592 496 560 496
WIRE -640 512 -640 496
WIRE 560 528 560 496
WIRE -480 576 -480 544
WIRE 384 592 384 560
WIRE -480 608 -480 576
WIRE -224 608 -224 592
WIRE 272 656 272 464
WIRE 336 656 272 656
WIRE 384 656 384 592
WIRE 496 656 496 464
WIRE 496 656 432 656
WIRE -336 688 -336 464
WIRE -272 688 -336 688
WIRE -224 688 -224 608
WIRE -112 688 -112 464
WIRE -112 688 -176 688
WIRE -480 720 -480 688
WIRE -192 800 -192 736
WIRE 416 800 416 704
WIRE 416 816 416 800
WIRE -192 848 -192 800
WIRE -32 960 -32 464
WIRE -32 960 -320 960
WIRE 272 992 272 656
WIRE 272 992 224 992
WIRE 512 992 272 992
WIRE -320 1024 -320 960
WIRE -32 1024 -32 960
WIRE 224 1056 224 992
WIRE 512 1056 512 992
WIRE -240 1072 -320 1072
WIRE -224 1072 -240 1072
WIRE -32 1072 -112 1072
WIRE -464 1104 -480 1104
WIRE -368 1104 -464 1104
WIRE 320 1104 224 1104
WIRE 512 1104 432 1104
WIRE 80 1136 64 1136
WIRE 176 1136 80 1136
WIRE -320 1184 -320 1120
WIRE -112 1184 -320 1184
WIRE -32 1184 -32 1120
WIRE -32 1184 -112 1184
WIRE 224 1216 224 1152
WIRE 272 1216 224 1216
WIRE 512 1216 512 1152
WIRE 512 1216 272 1216
WIRE -112 1248 -112 1184
WIRE -112 1264 -112 1248
WIRE 272 1264 272 1216
FLAG -480 720 0
FLAG 560 528 VDC
FLAG -480 576 VDC
FLAG -400 464 Vin
FLAG -400 144 0
FLAG -496 0 VDD
FLAG -304 0 VSS
FLAG -720 304 0
FLAG -640 496 ~VCLK
FLAG -640 176 VCLK
FLAG -256 336 VCLK
FLAG -224 480 VSS
FLAG 352 320 ~VCLK
FLAG 384 448 VSS
FLAG 416 800 VCLK
FLAG -192 800 ~VCLK
FLAG 704 480 V_SnH
FLAG 16 1040 ~VCLK
FLAG -112 1072 VSS
FLAG -464 1104 VCLK
FLAG 560 1072 VCLK
FLAG 432 1104 VSS
FLAG 80 1136 ~VCLK
FLAG 272 1264 VDC
FLAG -112 1248 VDC
FLAG -224 608 VDD
FLAG 384 592 VDD
FLAG 320 1104 VDD
FLAG -240 1072 VDD
SYMBOL Opamps\\opamp 624 416 R0
SYMATTR InstName U1
SYMATTR SpiceLine Aol=500
SYMATTR SpiceLine2 GBW=300Meg
SYMBOL nmos4 -176 352 R90
SYMATTR InstName M1
SYMATTR Value CMOSN
SYMATTR Value2 l=0.25u w=4u m=2
SYMBOL voltage -480 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 0.3 {0.125/T})
SYMBOL voltage -480 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 0.9
SYMBOL cap 656 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.5p
SYMBOL voltage -720 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE({VSS} {VDD} {Tp} 50p 50p {Tp} {T})
SYMBOL voltage -496 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value {VDD}
SYMBOL voltage -304 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value {VSS}
SYMBOL Digital\\inv -576 384 R90
SYMATTR InstName A1
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = td_DFF
SYMBOL pmos4 -272 736 R270
SYMATTR InstName M3
SYMATTR Value CMOSP
SYMATTR Value2 l=0.25u w=12u m=3
SYMBOL nmos4 432 320 R90
SYMATTR InstName M2
SYMATTR Value CMOSN
SYMATTR Value2 l=0.25u w=4u m=2
SYMBOL pmos4 336 704 R270
SYMATTR InstName M4
SYMATTR Value CMOSP
SYMATTR Value2 l=0.25u w=12u m=3
SYMBOL cap 96 448 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.5p
SYMBOL nmos4 16 1120 R180
SYMATTR InstName M5
SYMATTR Value CMOSN
SYMATTR Value2 l=0.25u w=4u m=2
SYMBOL pmos4 -368 1024 R0
SYMATTR InstName M6
SYMATTR Value CMOSP
SYMATTR Value2 l=0.25u w=12u m=3
SYMBOL nmos4 560 1152 R180
SYMATTR InstName M7
SYMATTR Value CMOSN
SYMATTR Value2 l=0.25u w=4u m=2
SYMBOL pmos4 176 1056 R0
SYMATTR InstName M8
SYMATTR Value CMOSP
SYMATTR Value2 l=0.25u w=12u m=3
TEXT -32 112 Left 2 !.param VDD=1.8V VSS=0V td_DFF=1p T=30n Tp=15n tff_rise=50p
TEXT -168 160 Left 2 !.include tsmc018.txt
TEXT 104 160 Left 2 !.LIB opamp.sub
TEXT -754 744 Left 2 !.tran {8*T}
TEXT 416 168 Left 2 !.ic V(V_SnH) = 0.9
