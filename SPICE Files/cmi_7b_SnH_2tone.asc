Version 4
SHEET 1 2004 1400
WIRE 768 -1152 -1008 -1152
WIRE -944 -1136 -1008 -1136
WIRE -992 -1120 -1008 -1120
WIRE -1088 -1104 -1312 -1104
WIRE -992 -1104 -992 -1120
WIRE -992 -1104 -1008 -1104
WIRE -992 -1088 -992 -1104
WIRE -992 -1088 -1008 -1088
WIRE -1040 -1056 -1040 -1088
WIRE -1024 -1056 -1040 -1056
WIRE -992 -1056 -992 -1088
WIRE -992 -1056 -1024 -1056
WIRE 1200 -1056 1200 -1120
WIRE 1344 -1056 1344 -1120
WIRE -800 -960 -1152 -960
WIRE -480 -960 -800 -960
WIRE -208 -960 -480 -960
WIRE 80 -960 -208 -960
WIRE 352 -960 80 -960
WIRE 656 -960 352 -960
WIRE 944 -960 656 -960
WIRE 1024 -960 944 -960
WIRE -1152 -896 -1152 -960
WIRE -800 -896 -800 -960
WIRE -480 -896 -480 -960
WIRE -208 -896 -208 -960
WIRE 80 -896 80 -960
WIRE 352 -896 352 -960
WIRE 656 -896 656 -960
WIRE -1312 -848 -1312 -1104
WIRE -1232 -848 -1312 -848
WIRE -992 -848 -1072 -848
WIRE -944 -848 -944 -1136
WIRE -944 -848 -992 -848
WIRE -880 -848 -944 -848
WIRE -560 -848 -720 -848
WIRE -288 -848 -400 -848
WIRE 0 -848 -128 -848
WIRE 272 -848 160 -848
WIRE 576 -848 432 -848
WIRE 768 -848 768 -1152
WIRE 768 -848 736 -848
WIRE -1232 -800 -1328 -800
WIRE -992 -800 -1056 -800
WIRE -960 -800 -992 -800
WIRE -880 -800 -912 -800
WIRE -560 -800 -592 -800
WIRE -288 -800 -304 -800
WIRE 0 -800 -16 -800
WIRE 272 -800 240 -800
WIRE 576 -800 544 -800
WIRE -1328 -720 -1328 -800
WIRE -1328 -720 -1408 -720
WIRE -912 -720 -912 -800
WIRE -912 -720 -1328 -720
WIRE -640 -720 -912 -720
WIRE -592 -720 -592 -800
WIRE -592 -720 -640 -720
WIRE -304 -720 -304 -800
WIRE -304 -720 -592 -720
WIRE -16 -720 -16 -800
WIRE -16 -720 -304 -720
WIRE 240 -720 240 -800
WIRE 240 -720 -16 -720
WIRE 544 -720 544 -800
WIRE 544 -720 240 -720
WIRE -1328 -704 -1328 -720
WIRE -1232 -688 -1232 -752
WIRE -1152 -688 -1152 -752
WIRE -1152 -688 -1232 -688
WIRE -880 -688 -880 -752
WIRE -880 -688 -1152 -688
WIRE -800 -688 -800 -752
WIRE -800 -688 -880 -688
WIRE -560 -688 -560 -752
WIRE -560 -688 -800 -688
WIRE -480 -688 -480 -752
WIRE -480 -688 -560 -688
WIRE -288 -688 -288 -752
WIRE -288 -688 -480 -688
WIRE -208 -688 -208 -752
WIRE -208 -688 -288 -688
WIRE -112 -688 -208 -688
WIRE 0 -688 0 -752
WIRE 0 -688 -112 -688
WIRE 80 -688 80 -752
WIRE 80 -688 0 -688
WIRE 272 -688 272 -752
WIRE 272 -688 80 -688
WIRE 352 -688 352 -752
WIRE 352 -688 272 -688
WIRE 576 -688 576 -752
WIRE 576 -688 352 -688
WIRE 656 -688 656 -752
WIRE 656 -688 576 -688
WIRE -112 -640 -112 -688
WIRE -112 -624 -112 -640
WIRE -1408 -560 -1408 -720
WIRE -1408 -448 -1408 -496
WIRE -1408 -432 -1408 -448
WIRE 224 -320 224 -384
WIRE 368 -272 368 -320
WIRE -448 -256 -448 -304
WIRE 176 -256 112 -256
WIRE 224 -224 224 -240
WIRE 352 -224 224 -224
WIRE 544 -224 432 -224
WIRE 224 -192 224 -224
WIRE 544 -176 544 -224
WIRE 688 -176 544 -176
WIRE 1264 -176 1184 -176
WIRE -1440 -160 -1456 -160
WIRE -1376 -160 -1440 -160
WIRE -1376 -144 -1456 -144
WIRE -1216 -144 -1312 -144
WIRE -1200 -144 -1216 -144
WIRE 1440 -144 1440 -192
WIRE 1472 -144 1440 -144
WIRE -1424 -128 -1440 -128
WIRE -1376 -128 -1424 -128
WIRE -416 -128 -416 -208
WIRE 176 -128 128 -128
WIRE 1440 -128 1440 -144
WIRE 1472 -128 1440 -128
WIRE 1616 -128 1616 -160
WIRE 1616 -128 1536 -128
WIRE 1696 -128 1616 -128
WIRE 1808 -128 1760 -128
WIRE 1824 -128 1808 -128
WIRE -1376 -112 -1408 -112
WIRE -1200 -112 -1312 -112
WIRE 1440 -112 1440 -128
WIRE 1472 -112 1440 -112
WIRE -1456 -96 -1488 -96
WIRE -1408 -96 -1408 -112
WIRE -1408 -96 -1456 -96
WIRE -1376 -96 -1408 -96
WIRE 688 -96 688 -176
WIRE 688 -96 672 -96
WIRE 1264 -96 1264 -176
WIRE 1344 -96 1264 -96
WIRE 1472 -96 1344 -96
WIRE 224 -80 224 -112
WIRE 400 -80 224 -80
WIRE 480 -80 400 -80
WIRE 544 -80 480 -80
WIRE 1472 -80 1264 -80
WIRE -720 -64 -832 -64
WIRE -464 -64 -464 -208
WIRE -464 -64 -720 -64
WIRE -368 -64 -368 -208
WIRE -272 -64 -368 -64
WIRE -208 -64 -272 -64
WIRE 224 -48 224 -80
WIRE 816 -48 816 -112
WIRE -1408 -16 -1440 -16
WIRE -1360 -16 -1408 -16
WIRE -1360 0 -1440 0
WIRE -1200 0 -1296 0
WIRE -1184 0 -1200 0
WIRE -416 0 -416 -32
WIRE 544 0 544 -80
WIRE 800 0 544 0
WIRE -1408 16 -1424 16
WIRE -1360 16 -1408 16
WIRE 176 16 128 16
WIRE -1360 32 -1392 32
WIRE -1152 32 -1296 32
WIRE -1440 48 -1472 48
WIRE -1392 48 -1392 32
WIRE -1392 48 -1440 48
WIRE -1360 48 -1392 48
WIRE 1264 48 1264 0
WIRE -832 64 -832 16
WIRE -832 96 -832 64
WIRE 224 96 224 32
WIRE 368 96 224 96
WIRE 672 96 672 -96
WIRE 672 96 448 96
WIRE -464 160 -464 -64
WIRE -416 160 -416 0
WIRE -368 160 -368 -64
WIRE 176 160 112 160
WIRE 224 208 224 176
WIRE 432 208 432 144
WIRE -832 224 -832 176
WIRE -384 256 -384 208
WIRE 1232 256 1232 224
WIRE 1312 256 1232 256
WIRE 1424 256 1376 256
WIRE 1440 256 1424 256
WIRE 1232 320 1232 256
WIRE 1232 448 1232 400
WIRE -1296 592 -1312 592
WIRE -1232 592 -1296 592
WIRE -1232 608 -1312 608
WIRE -1072 608 -1168 608
WIRE -1056 608 -1072 608
WIRE -1280 624 -1296 624
WIRE -1232 624 -1280 624
WIRE -1232 640 -1264 640
WIRE -1056 640 -1168 640
WIRE -1312 656 -1344 656
WIRE -1264 656 -1264 640
WIRE -1264 656 -1312 656
WIRE -1232 656 -1264 656
WIRE 224 656 224 592
WIRE 368 704 368 656
WIRE 176 720 112 720
WIRE -1264 736 -1296 736
WIRE -1216 736 -1264 736
WIRE -1216 752 -1296 752
WIRE -1056 752 -1152 752
WIRE -1040 752 -1056 752
WIRE 224 752 224 736
WIRE 352 752 224 752
WIRE 544 752 432 752
WIRE -1264 768 -1280 768
WIRE -1216 768 -1264 768
WIRE -1216 784 -1248 784
WIRE -1008 784 -1152 784
WIRE 224 784 224 752
WIRE -1296 800 -1328 800
WIRE -1248 800 -1248 784
WIRE -1248 800 -1296 800
WIRE -1216 800 -1248 800
WIRE 544 800 544 752
WIRE 688 800 544 800
WIRE 176 848 128 848
WIRE 688 880 688 800
WIRE 688 880 672 880
WIRE 224 896 224 864
WIRE 400 896 224 896
WIRE 480 896 400 896
WIRE 544 896 480 896
WIRE 224 928 224 896
WIRE 816 928 816 864
WIRE 544 976 544 896
WIRE 800 976 544 976
WIRE 176 992 128 992
WIRE 224 1072 224 1008
WIRE 368 1072 224 1072
WIRE 672 1072 672 880
WIRE 672 1072 448 1072
WIRE 176 1136 112 1136
WIRE 224 1184 224 1152
WIRE 432 1184 432 1120
FLAG -832 224 0
FLAG -832 64 VDC
FLAG -720 -64 Vin
FLAG 1200 -976 0
FLAG 1200 -1120 VDD
FLAG -272 -64 V_snh
FLAG -1328 -624 0
FLAG -1024 -1056 VSS
FLAG -112 -640 VSS
FLAG -992 -848 PRBS_OUT
FLAG -992 -800 ~PRBS_OUT
FLAG 944 -960 VSS
FLAG -640 -720 VCLK
FLAG -1408 -448 ~VCLK
FLAG 224 208 0
FLAG 224 -384 VDD
FLAG 400 -16 0
FLAG 176 112 0
FLAG 176 -304 0
FLAG 480 -80 Vp1
FLAG 688 -176 VDC
FLAG 112 -256 V_snh
FLAG 112 160 V_snh
FLAG 176 -176 0
FLAG 176 -32 0
FLAG 384 144 0
FLAG 416 -272 0
FLAG 864 -48 0
FLAG -1456 -144 PRBS_OUT
FLAG -1216 -144 CHARGE1
FLAG -1424 -128 ~RESET1
FLAG -1456 -96 VDD
FLAG -1440 0 ~PRBS_OUT
FLAG -1200 0 DISCHARGE1
FLAG -1408 16 ~RESET1
FLAG -1440 48 VDD
FLAG -1440 -160 ~VCLK
FLAG -1408 -16 ~VCLK
FLAG 128 -128 CHARGE1
FLAG 368 -320 ~CHARGE1
FLAG 128 16 DISCHARGE1
FLAG 432 208 ~DISCHARGE1
FLAG 816 -112 RESET1
FLAG -1200 -112 ~CHARGE1
FLAG -1152 32 ~DISCHARGE1
FLAG 1344 -976 0
FLAG 1344 -1120 VSS
FLAG 1264 48 0
FLAG 1616 -160 RESET1
FLAG 880 0 VDC
FLAG 1808 -128 ~RESET1
FLAG 224 1184 0
FLAG 224 592 VDD
FLAG 400 960 0
FLAG 176 1088 0
FLAG 176 672 0
FLAG 480 896 Vp2
FLAG 688 800 VDC
FLAG 112 720 V_snh
FLAG 112 1136 V_snh
FLAG 176 800 0
FLAG 176 944 0
FLAG 384 1120 0
FLAG 416 704 0
FLAG 864 928 0
FLAG 128 848 CHARGE2
FLAG 368 656 ~CHARGE2
FLAG 128 992 DISCHARGE2
FLAG 432 1184 ~DISCHARGE2
FLAG 816 864 RESET2
FLAG 880 976 VDC
FLAG 1232 448 0
FLAG 1232 224 RESET2
FLAG 1424 256 ~RESET2
FLAG -1312 608 PRBS_OUT
FLAG -1072 608 CHARGE2
FLAG -1280 624 ~RESET2
FLAG -1312 656 VDD
FLAG -1296 752 ~PRBS_OUT
FLAG -1056 752 DISCHARGE2
FLAG -1264 768 ~RESET2
FLAG -1296 800 VDD
FLAG -1296 592 ~VCLK
FLAG -1264 736 ~VCLK
FLAG -1056 640 ~CHARGE2
FLAG -1008 784 ~DISCHARGE2
FLAG 1440 -192 VSS
FLAG 1184 -96 0
FLAG 1344 -96 INIT
FLAG -416 0 Vdd
FLAG -416 -128 Vss
FLAG -208 0 0
FLAG -448 -304 VCLK
FLAG -384 256 ~VCLK
SYMBOL voltage -832 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0.9
SYMBOL voltage -832 -80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 {vamp} {X/T})
SYMBOL voltage 1200 -1072 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1.8
SYMBOL Digital\\dflop -1152 -896 R0
SYMATTR InstName A1
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -800 -896 R0
SYMATTR InstName A2
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -480 -896 R0
SYMATTR InstName A3
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -208 -896 R0
SYMATTR InstName A4
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 80 -896 R0
SYMATTR InstName A5
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 352 -896 R0
SYMATTR InstName A6
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 656 -896 R0
SYMATTR InstName A7
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\xor -1056 -1184 M0
SYMATTR InstName A8
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage -1328 -720 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE({VDD} {VSS} {Tp} 500p 500p {Tp} {T})
SYMBOL Digital\\inv -1344 -560 R90
SYMATTR InstName A9
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL g 224 -224 M180
SYMATTR InstName G1
SYMATTR Value {G}
SYMBOL g 224 192 M180
SYMATTR InstName G2
SYMATTR Value {G}
SYMBOL sw 224 -208 R0
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL sw 224 -64 R0
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL sw 352 96 R270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL sw 448 -224 R90
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL cap 384 -80 R0
SYMATTR InstName C1
SYMATTR Value 5p
SYMBOL sw 896 0 R90
SYMATTR InstName S5
SYMATTR Value MYSW
SYMBOL Digital\\and -1344 -192 R0
SYMATTR InstName A10
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1328 -48 R0
SYMATTR InstName A11
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage 1344 -1072 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL voltage 1264 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE({VSS} {VDD} {4*T+Tp} 500p 500p {3*T+Tp} {8*T})
SYMBOL Digital\\inv 1696 -192 R0
SYMATTR InstName A12
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL g 224 752 M180
SYMATTR InstName G3
SYMATTR Value {G}
SYMBOL g 224 1168 M180
SYMATTR InstName G4
SYMATTR Value {G}
SYMBOL sw 224 768 R0
SYMATTR InstName S6
SYMATTR Value MYSW
SYMBOL sw 224 912 R0
SYMATTR InstName S7
SYMATTR Value MYSW
SYMBOL sw 352 1072 R270
SYMATTR InstName S8
SYMATTR Value MYSW
SYMBOL sw 448 752 R90
SYMATTR InstName S9
SYMATTR Value MYSW
SYMBOL cap 384 896 R0
SYMATTR InstName C2
SYMATTR Value 5p
SYMBOL sw 896 976 R90
SYMATTR InstName S10
SYMATTR Value MYSW
SYMBOL voltage 1232 304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE({VDD} {VSS} {4*T} 500p 500p {4*T+Tp1} {8*T})
SYMBOL Digital\\inv 1312 192 R0
SYMATTR InstName A13
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1200 560 R0
SYMATTR InstName A14
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1184 704 R0
SYMATTR InstName A15
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\or 1504 -176 R0
SYMATTR InstName A16
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage 1184 -192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value PULSE({VSS} {VDD} 0 500p 500p {Tp} {1000*T})
SYMBOL nmos4 -368 -256 R90
SYMATTR InstName M1
SYMATTR Value CMOSN
SYMATTR Value2 l=0.18u w=3u
SYMBOL pmos4 -464 208 R270
SYMATTR InstName M2
SYMATTR Value CMOSP
SYMATTR Value2 l=0.18u w=8u
SYMBOL cap -224 -64 R0
SYMATTR InstName C3
SYMATTR Value 1.5p
TEXT -640 -472 Left 2 !.include tsmc018.txt
TEXT -368 -472 Left 2 !.LIB opamp.sub
TEXT 152 432 Left 2 !.model MYSW SW(Ron=1 Roff=100Meg Vt=.9 Vh=0)
TEXT 536 -536 Left 2 !.ic V(vp) = 0 V(Q0) = 0 V(Q1) = 0 V(D0) = 0 V(D1) = 0
TEXT -1616 336 Left 2 !.options gmin = 1e-10\n.options abstol = 1e-10\n.options reltol = 0.003
TEXT -64 -480 Left 2 !.param G = 0.0001
TEXT -1600 456 Left 2 !.tran {200*T} uic
TEXT 48 -656 Left 2 !.param td_DFF = 50p tff_rise = 500p
TEXT -1304 -576 Left 2 !.param VDD=1.8V VSS=0V T=40n Tp=20n Tp1=20n
TEXT -664 400 Left 2 !.param vamp = 0.3 X = 0.23
