Version 4
SHEET 1 2036 1496
WIRE 800 -1056 -976 -1056
WIRE -912 -1040 -976 -1040
WIRE -960 -1024 -976 -1024
WIRE -1056 -1008 -1280 -1008
WIRE -960 -1008 -960 -1024
WIRE -960 -1008 -976 -1008
WIRE -960 -992 -960 -1008
WIRE -960 -992 -976 -992
WIRE -1008 -960 -1008 -992
WIRE -992 -960 -1008 -960
WIRE -960 -960 -960 -992
WIRE -960 -960 -992 -960
WIRE 1232 -960 1232 -1024
WIRE 1376 -960 1376 -1024
WIRE -768 -864 -1120 -864
WIRE -448 -864 -768 -864
WIRE -176 -864 -448 -864
WIRE 112 -864 -176 -864
WIRE 384 -864 112 -864
WIRE 688 -864 384 -864
WIRE 976 -864 688 -864
WIRE 1056 -864 976 -864
WIRE -1120 -800 -1120 -864
WIRE -768 -800 -768 -864
WIRE -448 -800 -448 -864
WIRE -176 -800 -176 -864
WIRE 112 -800 112 -864
WIRE 384 -800 384 -864
WIRE 688 -800 688 -864
WIRE -1280 -752 -1280 -1008
WIRE -1200 -752 -1280 -752
WIRE -960 -752 -1040 -752
WIRE -912 -752 -912 -1040
WIRE -912 -752 -960 -752
WIRE -848 -752 -912 -752
WIRE -528 -752 -688 -752
WIRE -256 -752 -368 -752
WIRE 32 -752 -96 -752
WIRE 304 -752 192 -752
WIRE 608 -752 464 -752
WIRE 800 -752 800 -1056
WIRE 800 -752 768 -752
WIRE -1200 -704 -1296 -704
WIRE -960 -704 -1024 -704
WIRE -928 -704 -960 -704
WIRE -848 -704 -880 -704
WIRE -528 -704 -560 -704
WIRE -256 -704 -272 -704
WIRE 32 -704 16 -704
WIRE 304 -704 272 -704
WIRE 608 -704 576 -704
WIRE -1296 -624 -1296 -704
WIRE -1296 -624 -1376 -624
WIRE -880 -624 -880 -704
WIRE -880 -624 -1296 -624
WIRE -608 -624 -880 -624
WIRE -560 -624 -560 -704
WIRE -560 -624 -608 -624
WIRE -272 -624 -272 -704
WIRE -272 -624 -560 -624
WIRE 16 -624 16 -704
WIRE 16 -624 -272 -624
WIRE 272 -624 272 -704
WIRE 272 -624 16 -624
WIRE 576 -624 576 -704
WIRE 576 -624 272 -624
WIRE -1296 -608 -1296 -624
WIRE -1200 -592 -1200 -656
WIRE -1120 -592 -1120 -656
WIRE -1120 -592 -1200 -592
WIRE -848 -592 -848 -656
WIRE -848 -592 -1120 -592
WIRE -768 -592 -768 -656
WIRE -768 -592 -848 -592
WIRE -528 -592 -528 -656
WIRE -528 -592 -768 -592
WIRE -448 -592 -448 -656
WIRE -448 -592 -528 -592
WIRE -256 -592 -256 -656
WIRE -256 -592 -448 -592
WIRE -176 -592 -176 -656
WIRE -176 -592 -256 -592
WIRE -80 -592 -176 -592
WIRE 32 -592 32 -656
WIRE 32 -592 -80 -592
WIRE 112 -592 112 -656
WIRE 112 -592 32 -592
WIRE 304 -592 304 -656
WIRE 304 -592 112 -592
WIRE 384 -592 384 -656
WIRE 384 -592 304 -592
WIRE 608 -592 608 -656
WIRE 608 -592 384 -592
WIRE 688 -592 688 -656
WIRE 688 -592 608 -592
WIRE -80 -544 -80 -592
WIRE -80 -528 -80 -544
WIRE -1376 -464 -1376 -624
WIRE -1376 -352 -1376 -400
WIRE -1376 -336 -1376 -352
WIRE 256 -224 256 -288
WIRE -784 -192 -896 -192
WIRE -384 -192 -784 -192
WIRE 400 -176 400 -224
WIRE -384 -160 -432 -160
WIRE 208 -160 144 -160
WIRE -112 -144 -208 -144
WIRE -16 -144 -112 -144
WIRE 256 -128 256 -144
WIRE 384 -128 256 -128
WIRE 576 -128 464 -128
WIRE -384 -96 -448 -96
WIRE 256 -96 256 -128
WIRE 576 -80 576 -128
WIRE 720 -80 576 -80
WIRE 1296 -80 1216 -80
WIRE -1408 -64 -1424 -64
WIRE -1344 -64 -1408 -64
WIRE -1344 -48 -1424 -48
WIRE -1184 -48 -1280 -48
WIRE -1168 -48 -1184 -48
WIRE 1472 -48 1472 -96
WIRE 1504 -48 1472 -48
WIRE -1392 -32 -1408 -32
WIRE -1344 -32 -1392 -32
WIRE 208 -32 160 -32
WIRE 1472 -32 1472 -48
WIRE 1504 -32 1472 -32
WIRE 1648 -32 1648 -64
WIRE 1648 -32 1568 -32
WIRE 1728 -32 1648 -32
WIRE 1840 -32 1792 -32
WIRE 1856 -32 1840 -32
WIRE -1344 -16 -1376 -16
WIRE -1168 -16 -1280 -16
WIRE 1472 -16 1472 -32
WIRE 1504 -16 1472 -16
WIRE -1424 0 -1456 0
WIRE -1376 0 -1376 -16
WIRE -1376 0 -1424 0
WIRE -1344 0 -1376 0
WIRE 720 0 720 -80
WIRE 720 0 704 0
WIRE 1296 0 1296 -80
WIRE 1376 0 1296 0
WIRE 1504 0 1376 0
WIRE 256 16 256 -16
WIRE 432 16 256 16
WIRE 512 16 432 16
WIRE 576 16 512 16
WIRE 1504 16 1296 16
WIRE -896 32 -896 -112
WIRE 256 48 256 16
WIRE 848 48 848 -16
WIRE -1376 80 -1408 80
WIRE -1328 80 -1376 80
WIRE -1328 96 -1408 96
WIRE -1168 96 -1264 96
WIRE -1152 96 -1168 96
WIRE 576 96 576 16
WIRE 832 96 576 96
WIRE -1376 112 -1392 112
WIRE -1328 112 -1376 112
WIRE 208 112 160 112
WIRE -1328 128 -1360 128
WIRE -1120 128 -1264 128
WIRE -1408 144 -1440 144
WIRE -1360 144 -1360 128
WIRE -1360 144 -1408 144
WIRE -1328 144 -1360 144
WIRE 1296 144 1296 96
WIRE 256 192 256 128
WIRE 400 192 256 192
WIRE 704 192 704 0
WIRE 704 192 480 192
WIRE 208 256 144 256
WIRE 256 304 256 272
WIRE 464 304 464 240
WIRE -896 352 -896 112
WIRE 1264 352 1264 320
WIRE 1344 352 1264 352
WIRE 1456 352 1408 352
WIRE 1472 352 1456 352
WIRE -896 384 -896 352
WIRE 1264 416 1264 352
WIRE -896 512 -896 464
WIRE 1264 544 1264 496
WIRE -1264 688 -1280 688
WIRE -1200 688 -1264 688
WIRE -1200 704 -1280 704
WIRE -1040 704 -1136 704
WIRE -1024 704 -1040 704
WIRE -1248 720 -1264 720
WIRE -1200 720 -1248 720
WIRE -1200 736 -1232 736
WIRE -1024 736 -1136 736
WIRE -1280 752 -1312 752
WIRE -1232 752 -1232 736
WIRE -1232 752 -1280 752
WIRE -1200 752 -1232 752
WIRE 256 752 256 688
WIRE 400 800 400 752
WIRE 208 816 144 816
WIRE -1232 832 -1264 832
WIRE -1184 832 -1232 832
WIRE -1184 848 -1264 848
WIRE -1024 848 -1120 848
WIRE -1008 848 -1024 848
WIRE 256 848 256 832
WIRE 384 848 256 848
WIRE 576 848 464 848
WIRE -1232 864 -1248 864
WIRE -1184 864 -1232 864
WIRE -1184 880 -1216 880
WIRE -976 880 -1120 880
WIRE 256 880 256 848
WIRE -1264 896 -1296 896
WIRE -1216 896 -1216 880
WIRE -1216 896 -1264 896
WIRE -1184 896 -1216 896
WIRE 576 896 576 848
WIRE 720 896 576 896
WIRE 208 944 160 944
WIRE 720 976 720 896
WIRE 720 976 704 976
WIRE 256 992 256 960
WIRE 432 992 256 992
WIRE 512 992 432 992
WIRE 576 992 512 992
WIRE 256 1024 256 992
WIRE 848 1024 848 960
WIRE 576 1072 576 992
WIRE 832 1072 576 1072
WIRE 208 1088 160 1088
WIRE 256 1168 256 1104
WIRE 400 1168 256 1168
WIRE 704 1168 704 976
WIRE 704 1168 480 1168
WIRE 208 1232 144 1232
WIRE 256 1280 256 1248
WIRE 464 1280 464 1216
FLAG -896 512 0
FLAG -896 352 VDC
FLAG -784 -192 Vin
FLAG -432 -160 0
FLAG 1232 -880 0
FLAG 1232 -1024 VDD
FLAG -448 -96 VCLK
FLAG -112 -144 V_snh
FLAG -1296 -528 0
FLAG -992 -960 VSS
FLAG -80 -544 VSS
FLAG -960 -752 PRBS_OUT
FLAG -960 -704 ~PRBS_OUT
FLAG 976 -864 VSS
FLAG -608 -624 VCLK
FLAG -1376 -352 ~VCLK
FLAG 256 304 0
FLAG 256 -288 VDD
FLAG 432 80 0
FLAG 208 208 0
FLAG 208 -208 0
FLAG 512 16 Vp1
FLAG 720 -80 VDC
FLAG 144 -160 V_snh
FLAG 144 256 V_snh
FLAG 208 -80 0
FLAG 208 64 0
FLAG 416 240 0
FLAG 448 -176 0
FLAG 896 48 0
FLAG -1424 -48 PRBS_OUT
FLAG -1184 -48 CHARGE1
FLAG -1392 -32 ~RESET1
FLAG -1424 0 VDD
FLAG -1408 96 ~PRBS_OUT
FLAG -1168 96 DISCHARGE1
FLAG -1376 112 ~RESET1
FLAG -1408 144 VDD
FLAG -1408 -64 ~VCLK
FLAG -1376 80 ~VCLK
FLAG 160 -32 CHARGE1
FLAG 400 -224 ~CHARGE1
FLAG 160 112 DISCHARGE1
FLAG 464 304 ~DISCHARGE1
FLAG 848 -16 RESET1
FLAG -1168 -16 ~CHARGE1
FLAG -1120 128 ~DISCHARGE1
FLAG 1376 -880 0
FLAG 1376 -1024 VSS
FLAG 1296 144 0
FLAG 1648 -64 RESET1
FLAG 912 96 VDC
FLAG 1840 -32 ~RESET1
FLAG 256 1280 0
FLAG 256 688 VDD
FLAG 432 1056 0
FLAG 208 1184 0
FLAG 208 768 0
FLAG 512 992 Vp2
FLAG 720 896 VDC
FLAG 144 816 V_snh
FLAG 144 1232 V_snh
FLAG 208 896 0
FLAG 208 1040 0
FLAG 416 1216 0
FLAG 448 800 0
FLAG 896 1024 0
FLAG 160 944 CHARGE2
FLAG 400 752 ~CHARGE2
FLAG 160 1088 DISCHARGE2
FLAG 464 1280 ~DISCHARGE2
FLAG 848 960 RESET2
FLAG 912 1072 VDC
FLAG 1264 544 0
FLAG 1264 320 RESET2
FLAG 1456 352 ~RESET2
FLAG -1280 704 PRBS_OUT
FLAG -1040 704 CHARGE2
FLAG -1248 720 ~RESET2
FLAG -1280 752 VDD
FLAG -1264 848 ~PRBS_OUT
FLAG -1024 848 DISCHARGE2
FLAG -1232 864 ~RESET2
FLAG -1264 896 VDD
FLAG -1264 688 ~VCLK
FLAG -1232 832 ~VCLK
FLAG -1024 736 ~CHARGE2
FLAG -976 880 ~DISCHARGE2
FLAG 1472 -96 VSS
FLAG 1216 0 0
FLAG 1376 0 INIT
SYMBOL voltage -896 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0.9
SYMBOL voltage -896 -208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 {vamp1} {X1/T})
SYMBOL SpecialFunctions\\sample -304 -160 R0
SYMATTR InstName A1
SYMBOL voltage 1232 -976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1.8
SYMBOL Digital\\dflop -1120 -800 R0
SYMATTR InstName A2
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -768 -800 R0
SYMATTR InstName A3
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -448 -800 R0
SYMATTR InstName A4
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -176 -800 R0
SYMATTR InstName A5
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 112 -800 R0
SYMATTR InstName A6
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 384 -800 R0
SYMATTR InstName A7
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 688 -800 R0
SYMATTR InstName A8
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\xor -1024 -1088 M0
SYMATTR InstName A9
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage -1296 -624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE({VDD} {VSS} {Tp} 500p 500p {Tp} {T})
SYMBOL Digital\\inv -1312 -464 R90
SYMATTR InstName A10
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL g 256 -128 M180
SYMATTR InstName G1
SYMATTR Value {G}
SYMBOL g 256 288 M180
SYMATTR InstName G2
SYMATTR Value {G}
SYMBOL sw 256 -112 R0
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL sw 256 32 R0
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL sw 384 192 R270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL sw 480 -128 R90
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL cap 416 16 R0
SYMATTR InstName C1
SYMATTR Value 5p
SYMBOL sw 928 96 R90
SYMATTR InstName S5
SYMATTR Value MYSW
SYMBOL Digital\\and -1312 -96 R0
SYMATTR InstName A11
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1296 48 R0
SYMATTR InstName A12
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage 1376 -976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL voltage 1296 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE({VSS} {VDD} {4*T+Tp} 500p 500p {3*T+Tp} {8*T})
SYMBOL Digital\\inv 1728 -96 R0
SYMATTR InstName A13
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL g 256 848 M180
SYMATTR InstName G3
SYMATTR Value {G}
SYMBOL g 256 1264 M180
SYMATTR InstName G4
SYMATTR Value {G}
SYMBOL sw 256 864 R0
SYMATTR InstName S6
SYMATTR Value MYSW
SYMBOL sw 256 1008 R0
SYMATTR InstName S7
SYMATTR Value MYSW
SYMBOL sw 384 1168 R270
SYMATTR InstName S8
SYMATTR Value MYSW
SYMBOL sw 480 848 R90
SYMATTR InstName S9
SYMATTR Value MYSW
SYMBOL cap 416 992 R0
SYMATTR InstName C2
SYMATTR Value 5p
SYMBOL sw 928 1072 R90
SYMATTR InstName S10
SYMATTR Value MYSW
SYMBOL voltage 1264 400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE({VDD} {VSS} {4*T} 500p 500p {4*T+Tp1} {8*T})
SYMBOL Digital\\inv 1344 288 R0
SYMATTR InstName A14
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1168 656 R0
SYMATTR InstName A15
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1152 800 R0
SYMATTR InstName A16
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\or 1536 -80 R0
SYMATTR InstName A17
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage 1216 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value PULSE({VSS} {VDD} 0 500p 500p {Tp} {1000*T})
SYMBOL voltage -896 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value SINE(0 {vamp2} {X2/T})
TEXT -608 -376 Left 2 !.include tsmc018.txt
TEXT -336 -376 Left 2 !.LIB opamp.sub
TEXT 184 528 Left 2 !.model MYSW SW(Ron=1 Roff=100Meg Vt=.9 Vh=0)
TEXT 568 -440 Left 2 !.ic V(vp) = 0 V(Q0) = 0 V(Q1) = 0 V(D0) = 0 V(D1) = 0
TEXT -1584 432 Left 2 !.options gmin = 1e-10\n.options abstol = 1e-10\n.options reltol = 0.003
TEXT -856 -64 Left 2 !.param vamp1 = 0.2 X1 = 0.23
TEXT -32 -384 Left 2 !.param G = 0.0001
TEXT -1568 552 Left 2 !.tran {200*T} uic
TEXT 80 -560 Left 2 !.param td_DFF = 50p tff_rise = 500p
TEXT -1272 -480 Left 2 !.param VDD=1.8V VSS=0V T=40n Tp=20n Tp1=20n
TEXT -864 168 Left 2 !.param vamp2 = 0.2 X2 = 0.23
