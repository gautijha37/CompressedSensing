Version 4
SHEET 1 2000 1912
WIRE 752 -640 -1024 -640
WIRE -960 -624 -1024 -624
WIRE -1008 -608 -1024 -608
WIRE -1104 -592 -1328 -592
WIRE -1008 -592 -1008 -608
WIRE -1008 -592 -1024 -592
WIRE -1008 -576 -1008 -592
WIRE -1008 -576 -1024 -576
WIRE -1056 -544 -1056 -576
WIRE -1040 -544 -1056 -544
WIRE -1008 -544 -1008 -576
WIRE -1008 -544 -1040 -544
WIRE 1184 -544 1184 -608
WIRE 1328 -544 1328 -608
WIRE -816 -448 -1168 -448
WIRE -496 -448 -816 -448
WIRE -224 -448 -496 -448
WIRE 64 -448 -224 -448
WIRE 336 -448 64 -448
WIRE 640 -448 336 -448
WIRE 928 -448 640 -448
WIRE 1008 -448 928 -448
WIRE -1168 -384 -1168 -448
WIRE -816 -384 -816 -448
WIRE -496 -384 -496 -448
WIRE -224 -384 -224 -448
WIRE 64 -384 64 -448
WIRE 336 -384 336 -448
WIRE 640 -384 640 -448
WIRE -1328 -336 -1328 -592
WIRE -1248 -336 -1328 -336
WIRE -1008 -336 -1088 -336
WIRE -960 -336 -960 -624
WIRE -960 -336 -1008 -336
WIRE -896 -336 -960 -336
WIRE -576 -336 -736 -336
WIRE -304 -336 -416 -336
WIRE -16 -336 -144 -336
WIRE 256 -336 144 -336
WIRE 560 -336 416 -336
WIRE 752 -336 752 -640
WIRE 752 -336 720 -336
WIRE -1248 -288 -1344 -288
WIRE -1008 -288 -1072 -288
WIRE -976 -288 -1008 -288
WIRE -896 -288 -928 -288
WIRE -576 -288 -608 -288
WIRE -304 -288 -320 -288
WIRE -16 -288 -32 -288
WIRE 256 -288 224 -288
WIRE 560 -288 528 -288
WIRE -1344 -208 -1344 -288
WIRE -1344 -208 -1424 -208
WIRE -928 -208 -928 -288
WIRE -928 -208 -1344 -208
WIRE -656 -208 -928 -208
WIRE -608 -208 -608 -288
WIRE -608 -208 -656 -208
WIRE -320 -208 -320 -288
WIRE -320 -208 -608 -208
WIRE -32 -208 -32 -288
WIRE -32 -208 -320 -208
WIRE 224 -208 224 -288
WIRE 224 -208 -32 -208
WIRE 528 -208 528 -288
WIRE 528 -208 224 -208
WIRE -1344 -192 -1344 -208
WIRE -1248 -176 -1248 -240
WIRE -1168 -176 -1168 -240
WIRE -1168 -176 -1248 -176
WIRE -896 -176 -896 -240
WIRE -896 -176 -1168 -176
WIRE -816 -176 -816 -240
WIRE -816 -176 -896 -176
WIRE -576 -176 -576 -240
WIRE -576 -176 -816 -176
WIRE -496 -176 -496 -240
WIRE -496 -176 -576 -176
WIRE -304 -176 -304 -240
WIRE -304 -176 -496 -176
WIRE -224 -176 -224 -240
WIRE -224 -176 -304 -176
WIRE -128 -176 -224 -176
WIRE -16 -176 -16 -240
WIRE -16 -176 -128 -176
WIRE 64 -176 64 -240
WIRE 64 -176 -16 -176
WIRE 256 -176 256 -240
WIRE 256 -176 64 -176
WIRE 336 -176 336 -240
WIRE 336 -176 256 -176
WIRE 560 -176 560 -240
WIRE 560 -176 336 -176
WIRE 640 -176 640 -240
WIRE 640 -176 560 -176
WIRE -128 -128 -128 -176
WIRE -128 -112 -128 -128
WIRE -1424 -48 -1424 -208
WIRE -1424 64 -1424 16
WIRE -1424 80 -1424 64
WIRE 208 192 208 128
WIRE 352 240 352 192
WIRE -464 256 -464 208
WIRE 160 256 96 256
WIRE 208 288 208 272
WIRE 336 288 208 288
WIRE 528 288 416 288
WIRE 208 320 208 288
WIRE 528 336 528 288
WIRE 672 336 528 336
WIRE 1248 336 1168 336
WIRE -1456 352 -1472 352
WIRE -1392 352 -1456 352
WIRE -1392 368 -1472 368
WIRE -1232 368 -1328 368
WIRE -1216 368 -1232 368
WIRE 1424 368 1424 320
WIRE 1456 368 1424 368
WIRE -1440 384 -1456 384
WIRE -1392 384 -1440 384
WIRE -432 384 -432 304
WIRE 160 384 112 384
WIRE 1424 384 1424 368
WIRE 1456 384 1424 384
WIRE 1600 384 1600 352
WIRE 1600 384 1520 384
WIRE 1680 384 1600 384
WIRE 1792 384 1744 384
WIRE 1808 384 1792 384
WIRE -1392 400 -1424 400
WIRE -1216 400 -1328 400
WIRE 1424 400 1424 384
WIRE 1456 400 1424 400
WIRE -1472 416 -1504 416
WIRE -1424 416 -1424 400
WIRE -1424 416 -1472 416
WIRE -1392 416 -1424 416
WIRE 672 416 672 336
WIRE 672 416 656 416
WIRE 1248 416 1248 336
WIRE 1328 416 1248 416
WIRE 1456 416 1328 416
WIRE 208 432 208 400
WIRE 384 432 208 432
WIRE 464 432 384 432
WIRE 528 432 464 432
WIRE 1456 432 1248 432
WIRE -736 448 -848 448
WIRE -480 448 -480 304
WIRE -480 448 -736 448
WIRE -384 448 -384 304
WIRE -288 448 -384 448
WIRE -224 448 -288 448
WIRE 208 464 208 432
WIRE 800 464 800 400
WIRE -1424 496 -1456 496
WIRE -1376 496 -1424 496
WIRE -1376 512 -1456 512
WIRE -1216 512 -1312 512
WIRE -1200 512 -1216 512
WIRE -432 512 -432 480
WIRE 528 512 528 432
WIRE 784 512 528 512
WIRE -1424 528 -1440 528
WIRE -1376 528 -1424 528
WIRE 160 528 112 528
WIRE -1376 544 -1408 544
WIRE -1168 544 -1312 544
WIRE -1456 560 -1488 560
WIRE -1408 560 -1408 544
WIRE -1408 560 -1456 560
WIRE -1376 560 -1408 560
WIRE 1248 560 1248 512
WIRE -848 576 -848 528
WIRE -848 608 -848 576
WIRE 208 608 208 544
WIRE 352 608 208 608
WIRE 656 608 656 416
WIRE 656 608 432 608
WIRE -480 672 -480 448
WIRE -432 672 -432 512
WIRE -384 672 -384 448
WIRE 160 672 96 672
WIRE 208 720 208 688
WIRE 416 720 416 656
WIRE -848 736 -848 688
WIRE -400 768 -400 720
WIRE 1216 768 1216 736
WIRE 1296 768 1216 768
WIRE 1408 768 1360 768
WIRE 1424 768 1408 768
WIRE 1216 832 1216 768
WIRE 1216 960 1216 912
WIRE -1312 1104 -1328 1104
WIRE -1248 1104 -1312 1104
WIRE -1248 1120 -1328 1120
WIRE -1088 1120 -1184 1120
WIRE -1072 1120 -1088 1120
WIRE -1296 1136 -1312 1136
WIRE -1248 1136 -1296 1136
WIRE -1248 1152 -1280 1152
WIRE -1072 1152 -1184 1152
WIRE -1328 1168 -1360 1168
WIRE -1280 1168 -1280 1152
WIRE -1280 1168 -1328 1168
WIRE -1248 1168 -1280 1168
WIRE 208 1168 208 1104
WIRE 352 1216 352 1168
WIRE 160 1232 96 1232
WIRE -1280 1248 -1312 1248
WIRE -1232 1248 -1280 1248
WIRE -1232 1264 -1312 1264
WIRE -1072 1264 -1168 1264
WIRE -1056 1264 -1072 1264
WIRE 208 1264 208 1248
WIRE 336 1264 208 1264
WIRE 528 1264 416 1264
WIRE -1280 1280 -1296 1280
WIRE -1232 1280 -1280 1280
WIRE -1232 1296 -1264 1296
WIRE -1024 1296 -1168 1296
WIRE 208 1296 208 1264
WIRE -1312 1312 -1344 1312
WIRE -1264 1312 -1264 1296
WIRE -1264 1312 -1312 1312
WIRE -1232 1312 -1264 1312
WIRE 528 1312 528 1264
WIRE 672 1312 528 1312
WIRE 160 1360 112 1360
WIRE 672 1392 672 1312
WIRE 672 1392 656 1392
WIRE 208 1408 208 1376
WIRE 384 1408 208 1408
WIRE 464 1408 384 1408
WIRE 528 1408 464 1408
WIRE 208 1440 208 1408
WIRE 800 1440 800 1376
WIRE 528 1488 528 1408
WIRE 784 1488 528 1488
WIRE 160 1504 112 1504
WIRE 208 1584 208 1520
WIRE 352 1584 208 1584
WIRE 656 1584 656 1392
WIRE 656 1584 432 1584
WIRE 160 1648 96 1648
WIRE 208 1696 208 1664
WIRE 416 1696 416 1632
FLAG -848 736 0
FLAG -848 576 VDC
FLAG -736 448 Vin
FLAG 1184 -464 0
FLAG 1184 -608 VDD
FLAG -288 448 V_snh
FLAG -1344 -112 0
FLAG -1040 -544 VSS
FLAG -128 -128 VSS
FLAG -1008 -336 PRBS_OUT
FLAG -1008 -288 ~PRBS_OUT
FLAG 928 -448 VSS
FLAG -656 -208 VCLK
FLAG -1424 64 ~VCLK
FLAG 208 720 0
FLAG 208 128 VDD
FLAG 384 496 0
FLAG 160 624 0
FLAG 160 208 0
FLAG 464 432 Vp1
FLAG 672 336 VDC
FLAG 96 256 V_snh
FLAG 96 672 V_snh
FLAG 160 336 0
FLAG 160 480 0
FLAG 368 656 0
FLAG 400 240 0
FLAG 848 464 0
FLAG -1472 368 PRBS_OUT
FLAG -1232 368 CHARGE1
FLAG -1440 384 ~RESET1
FLAG -1472 416 VDD
FLAG -1456 512 ~PRBS_OUT
FLAG -1216 512 DISCHARGE1
FLAG -1424 528 ~RESET1
FLAG -1456 560 VDD
FLAG -1456 352 ~VCLK
FLAG -1424 496 ~VCLK
FLAG 112 384 CHARGE1
FLAG 352 192 ~CHARGE1
FLAG 112 528 DISCHARGE1
FLAG 416 720 ~DISCHARGE1
FLAG 800 400 RESET1
FLAG -1216 400 ~CHARGE1
FLAG -1168 544 ~DISCHARGE1
FLAG 1328 -464 0
FLAG 1328 -608 VSS
FLAG 1248 560 0
FLAG 1600 352 RESET1
FLAG 864 512 VDC
FLAG 1792 384 ~RESET1
FLAG 208 1696 0
FLAG 208 1104 VDD
FLAG 384 1472 0
FLAG 160 1600 0
FLAG 160 1184 0
FLAG 464 1408 Vp2
FLAG 672 1312 VDC
FLAG 96 1232 V_snh
FLAG 96 1648 V_snh
FLAG 160 1312 0
FLAG 160 1456 0
FLAG 368 1632 0
FLAG 400 1216 0
FLAG 848 1440 0
FLAG 112 1360 CHARGE2
FLAG 352 1168 ~CHARGE2
FLAG 112 1504 DISCHARGE2
FLAG 416 1696 ~DISCHARGE2
FLAG 800 1376 RESET2
FLAG 864 1488 VDC
FLAG 1216 960 0
FLAG 1216 736 RESET2
FLAG 1408 768 ~RESET2
FLAG -1328 1120 PRBS_OUT
FLAG -1088 1120 CHARGE2
FLAG -1296 1136 ~RESET2
FLAG -1328 1168 VDD
FLAG -1312 1264 ~PRBS_OUT
FLAG -1072 1264 DISCHARGE2
FLAG -1280 1280 ~RESET2
FLAG -1312 1312 VDD
FLAG -1312 1104 ~VCLK
FLAG -1280 1248 ~VCLK
FLAG -1072 1152 ~CHARGE2
FLAG -1024 1296 ~DISCHARGE2
FLAG 1424 320 VSS
FLAG 1168 416 0
FLAG 1328 416 INIT
FLAG -432 512 Vdd
FLAG -432 384 Vss
FLAG -224 512 0
FLAG -464 208 VCLK
FLAG -400 768 ~VCLK
SYMBOL voltage -848 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0.9
SYMBOL voltage -848 432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 {vamp} {X/T})
SYMBOL voltage 1184 -560 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1.8
SYMBOL Digital\\dflop -1168 -384 R0
SYMATTR InstName A2
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -816 -384 R0
SYMATTR InstName A3
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -496 -384 R0
SYMATTR InstName A4
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -224 -384 R0
SYMATTR InstName A5
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 64 -384 R0
SYMATTR InstName A6
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 336 -384 R0
SYMATTR InstName A7
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 640 -384 R0
SYMATTR InstName A8
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\xor -1072 -672 M0
SYMATTR InstName A9
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage -1344 -208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE({VDD} {VSS} {Tp} 500p 500p {Tp} {T})
SYMBOL Digital\\inv -1360 -48 R90
SYMATTR InstName A10
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL g 208 288 M180
SYMATTR InstName G1
SYMATTR Value {G}
SYMBOL g 208 704 M180
SYMATTR InstName G2
SYMATTR Value {G}
SYMBOL sw 208 304 R0
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL sw 208 448 R0
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL sw 336 608 R270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL sw 432 288 R90
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL cap 368 432 R0
SYMATTR InstName C1
SYMATTR Value 5p
SYMBOL sw 880 512 R90
SYMATTR InstName S5
SYMATTR Value MYSW
SYMBOL Digital\\and -1360 320 R0
SYMATTR InstName A11
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1344 464 R0
SYMATTR InstName A12
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage 1328 -560 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL voltage 1248 416 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE({VSS} {VDD} {4*T+Tp} 500p 500p {3*T+Tp} {8*T})
SYMBOL Digital\\inv 1680 320 R0
SYMATTR InstName A13
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL g 208 1264 M180
SYMATTR InstName G3
SYMATTR Value {G}
SYMBOL g 208 1680 M180
SYMATTR InstName G4
SYMATTR Value {G}
SYMBOL sw 208 1280 R0
SYMATTR InstName S6
SYMATTR Value MYSW
SYMBOL sw 208 1424 R0
SYMATTR InstName S7
SYMATTR Value MYSW
SYMBOL sw 336 1584 R270
SYMATTR InstName S8
SYMATTR Value MYSW
SYMBOL sw 432 1264 R90
SYMATTR InstName S9
SYMATTR Value MYSW
SYMBOL cap 368 1408 R0
SYMATTR InstName C2
SYMATTR Value 5p
SYMBOL sw 880 1488 R90
SYMATTR InstName S10
SYMATTR Value MYSW
SYMBOL voltage 1216 816 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE({VDD} {VSS} {4*T} 500p 500p {4*T+Tp1} {8*T})
SYMBOL Digital\\inv 1296 704 R0
SYMATTR InstName A14
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1216 1072 R0
SYMATTR InstName A15
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1200 1216 R0
SYMATTR InstName A16
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\or 1488 336 R0
SYMATTR InstName A17
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage 1168 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value PULSE({VSS} {VDD} 0 500p 500p {Tp} {1000*T})
SYMBOL nmos4 -384 256 R90
SYMATTR InstName M1
SYMATTR Value CMOSN
SYMATTR Value2 l=1u w=3u
SYMBOL pmos4 -480 720 R270
SYMATTR InstName M2
SYMATTR Value CMOSP
SYMATTR Value2 l=1u w=8u
SYMBOL cap -240 448 R0
SYMATTR InstName C3
SYMATTR Value 3p
TEXT -656 40 Left 2 !.include tsmc018.txt
TEXT -384 40 Left 2 !.LIB opamp.sub
TEXT 136 944 Left 2 !.model MYSW SW(Ron=1 Roff=100Meg Vt=.9 Vh=0)
TEXT 520 -24 Left 2 !.ic V(vp) = 0 V(Q0) = 0 V(Q1) = 0 V(D0) = 0 V(D1) = 0
TEXT -1632 848 Left 2 !.options gmin = 1e-10\n.options abstol = 1e-10\n.options reltol = 0.003
TEXT -80 32 Left 2 !.param G = 0.0001
TEXT -1616 968 Left 2 !.tran {200*T} uic
TEXT 32 -144 Left 2 !.param td_DFF = 50p tff_rise = 500p
TEXT -1320 -64 Left 2 !.param VDD=1.8V VSS=0V T=40n Tp=20n Tp1=20n
TEXT -880 808 Left 2 !.param vamp = 0.3 X = 0.23
