Version 4
SHEET 1 1848 1084
WIRE 1504 48 1504 0
WIRE 256 96 256 64
WIRE 448 96 448 64
WIRE 1504 96 1504 48
WIRE 256 160 256 96
WIRE 448 160 448 96
WIRE 1536 176 1536 144
WIRE 1536 192 1536 176
WIRE 352 240 256 240
WIRE 448 240 352 240
WIRE 1488 240 1488 144
WIRE 1488 240 1392 240
WIRE 1584 240 1584 144
WIRE 1648 240 1584 240
WIRE -624 272 -640 272
WIRE -576 272 -624 272
WIRE -432 272 -512 272
WIRE -240 272 -432 272
WIRE 1536 272 1536 240
WIRE -432 288 -432 272
WIRE 1072 304 1072 272
WIRE 1488 304 1488 240
WIRE 1536 304 1536 272
WIRE 1584 304 1584 240
WIRE 1072 368 1072 304
WIRE 1568 400 1568 352
WIRE 1568 416 1568 400
WIRE 1104 448 1104 416
WIRE 1104 464 1104 448
WIRE -624 480 -640 480
WIRE -576 480 -624 480
WIRE -384 480 -512 480
WIRE -192 480 -384 480
WIRE -384 496 -384 480
WIRE 1056 496 1056 416
WIRE 1056 496 816 496
WIRE 1152 496 1152 416
WIRE 1200 496 1152 496
WIRE 1216 496 1200 496
WIRE 1264 496 1216 496
WIRE 1360 496 1328 496
WIRE 1392 496 1392 240
WIRE 1392 496 1360 496
WIRE 1456 496 1392 496
WIRE 1568 512 1520 512
WIRE 1616 512 1568 512
WIRE 1648 512 1648 240
WIRE 1648 512 1616 512
WIRE 1104 528 1104 512
WIRE 1456 528 1392 528
WIRE 1056 576 1056 496
WIRE 1104 576 1104 528
WIRE 1152 576 1152 496
WIRE 1392 592 1392 528
WIRE 1456 592 1392 592
WIRE 816 624 816 576
WIRE 816 656 816 624
WIRE 1328 656 1328 592
WIRE -624 672 -640 672
WIRE -576 672 -624 672
WIRE -384 672 -512 672
WIRE -192 672 -384 672
WIRE -384 688 -384 672
WIRE 1136 688 1136 624
WIRE 1328 688 1328 656
WIRE 1136 720 1136 688
WIRE 1360 768 1360 736
WIRE 816 784 816 736
WIRE 1360 784 1360 768
WIRE 1216 816 1216 496
WIRE 1312 816 1312 736
WIRE 1312 816 1216 816
WIRE 1408 816 1408 736
WIRE 1568 816 1568 512
WIRE 1568 816 1408 816
WIRE 1360 848 1360 832
WIRE 1312 896 1312 816
WIRE 1360 896 1360 848
WIRE 1408 896 1408 816
WIRE 1392 992 1392 944
WIRE 1392 1040 1392 992
FLAG 352 240 0
FLAG 256 96 VDD
FLAG 448 96 VSS
FLAG -432 368 0
FLAG -624 272 ~VCLK1
FLAG -240 272 VCLK1
FLAG -384 576 0
FLAG -192 480 VCLK2
FLAG -384 768 0
FLAG -192 672 VCLK3
FLAG -624 480 ~VCLK2
FLAG -624 672 ~VCLK3
FLAG 816 784 0
FLAG 816 624 VDC
FLAG 1104 528 VDD
FLAG 1360 848 VDD
FLAG 1536 272 VDD
FLAG 1536 176 VSS
FLAG 1360 768 VSS
FLAG 1104 448 VSS
FLAG 1072 304 VCLK1
FLAG 1136 688 ~VCLK1
FLAG 1328 656 VCLK3
FLAG 1392 992 ~VCLK3
FLAG 1504 48 VCLK2
FLAG 1568 400 ~VCLK2
FLAG 1616 512 V_SnH
FLAG 1200 496 Va
FLAG 1360 496 Vb
FLAG 1456 672 0
SYMBOL voltage 256 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {VDD}
SYMBOL voltage 448 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {VSS}
SYMBOL voltage -432 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE({VSS} {VDD} 0 50p 50p {0.475*T} {T})
SYMBOL Digital\\inv -512 336 R180
SYMATTR InstName A1
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = td_DFF
SYMBOL voltage -384 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE({VSS} {VDD} 0 50p 50p {0.425*T} {T})
SYMBOL voltage -384 672 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE({VSS} {VDD} {0.525*T} 50p 50p {0.425*T} {T})
SYMBOL voltage 816 640 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 0.9
SYMBOL voltage 672 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE(0.3 0.5 9n 50p 50p 10n 20n)
SYMBOL nmos4 1152 368 R90
SYMATTR InstName M1
SYMATTR Value CMOSN
SYMATTR Value2 l=1u w=4u m=3
SYMBOL pmos4 1056 624 R270
SYMATTR InstName M2
SYMATTR Value CMOSP
SYMATTR Value2 l=1u w=4u m=3
SYMBOL Digital\\inv -512 544 R180
SYMATTR InstName A2
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = td_DFF
SYMBOL Digital\\inv -512 736 R180
SYMATTR InstName A3
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = td_DFF
SYMBOL cap 1328 480 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.1p
SYMBOL Opamps\\opamp 1488 448 R0
SYMATTR InstName U1
SYMATTR SpiceLine2 GBW=400Meg
SYMBOL nmos4 1584 96 R90
SYMATTR InstName M3
SYMATTR Value CMOSN
SYMATTR Value2 l=1u w=4u m=3
SYMBOL pmos4 1488 352 R270
SYMATTR InstName M4
SYMATTR Value CMOSP
SYMATTR Value2 l=1u w=4u m=3
SYMBOL nmos4 1408 688 R90
SYMATTR InstName M5
SYMATTR Value CMOSN
SYMATTR Value2 l=1u w=4u m=3
SYMBOL pmos4 1312 944 R270
SYMATTR InstName M6
SYMATTR Value CMOSP
SYMATTR Value2 l=1u w=4u m=3
SYMBOL voltage 1456 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value 0.9
SYMBOL voltage 816 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value SINE(0 0.3 25mega)
TEXT -144 24 Left 2 !.params VDD = 1.8V VSS = 0V td_DFF = 1p T = 10n Tp = 4.25n tff_rise = 50p
TEXT -280 72 Left 2 !.include tsmc018.txt
TEXT -8 72 Left 2 !.LIB opamp.sub
TEXT -556 792 Left 2 !.tran 40n
