Version 4
SHEET 1 1956 1208
WIRE 720 -1344 -1056 -1344
WIRE -992 -1328 -1056 -1328
WIRE -1040 -1312 -1056 -1312
WIRE -1136 -1296 -1360 -1296
WIRE -1040 -1296 -1040 -1312
WIRE -1040 -1296 -1056 -1296
WIRE -1040 -1280 -1040 -1296
WIRE -1040 -1280 -1056 -1280
WIRE -1088 -1248 -1088 -1280
WIRE -1072 -1248 -1088 -1248
WIRE -1040 -1248 -1040 -1280
WIRE -1040 -1248 -1072 -1248
WIRE 1152 -1248 1152 -1312
WIRE 1296 -1248 1296 -1312
WIRE -848 -1152 -1200 -1152
WIRE -528 -1152 -848 -1152
WIRE -256 -1152 -528 -1152
WIRE 32 -1152 -256 -1152
WIRE 304 -1152 32 -1152
WIRE 608 -1152 304 -1152
WIRE 896 -1152 608 -1152
WIRE 976 -1152 896 -1152
WIRE -1200 -1088 -1200 -1152
WIRE -848 -1088 -848 -1152
WIRE -528 -1088 -528 -1152
WIRE -256 -1088 -256 -1152
WIRE 32 -1088 32 -1152
WIRE 304 -1088 304 -1152
WIRE 608 -1088 608 -1152
WIRE -1360 -1040 -1360 -1296
WIRE -1280 -1040 -1360 -1040
WIRE -1040 -1040 -1120 -1040
WIRE -992 -1040 -992 -1328
WIRE -992 -1040 -1040 -1040
WIRE -928 -1040 -992 -1040
WIRE -608 -1040 -768 -1040
WIRE -336 -1040 -448 -1040
WIRE -48 -1040 -176 -1040
WIRE 224 -1040 112 -1040
WIRE 528 -1040 384 -1040
WIRE 720 -1040 720 -1344
WIRE 720 -1040 688 -1040
WIRE -1280 -992 -1376 -992
WIRE -1040 -992 -1104 -992
WIRE -1008 -992 -1040 -992
WIRE -928 -992 -960 -992
WIRE -608 -992 -640 -992
WIRE -336 -992 -352 -992
WIRE -48 -992 -64 -992
WIRE 224 -992 192 -992
WIRE 528 -992 496 -992
WIRE -1376 -912 -1376 -992
WIRE -1376 -912 -1456 -912
WIRE -960 -912 -960 -992
WIRE -960 -912 -1376 -912
WIRE -688 -912 -960 -912
WIRE -640 -912 -640 -992
WIRE -640 -912 -688 -912
WIRE -352 -912 -352 -992
WIRE -352 -912 -640 -912
WIRE -64 -912 -64 -992
WIRE -64 -912 -352 -912
WIRE 192 -912 192 -992
WIRE 192 -912 -64 -912
WIRE 496 -912 496 -992
WIRE 496 -912 192 -912
WIRE -1376 -896 -1376 -912
WIRE -1280 -880 -1280 -944
WIRE -1200 -880 -1200 -944
WIRE -1200 -880 -1280 -880
WIRE -928 -880 -928 -944
WIRE -928 -880 -1200 -880
WIRE -848 -880 -848 -944
WIRE -848 -880 -928 -880
WIRE -608 -880 -608 -944
WIRE -608 -880 -848 -880
WIRE -528 -880 -528 -944
WIRE -528 -880 -608 -880
WIRE -336 -880 -336 -944
WIRE -336 -880 -528 -880
WIRE -256 -880 -256 -944
WIRE -256 -880 -336 -880
WIRE -160 -880 -256 -880
WIRE -48 -880 -48 -944
WIRE -48 -880 -160 -880
WIRE 32 -880 32 -944
WIRE 32 -880 -48 -880
WIRE 224 -880 224 -944
WIRE 224 -880 32 -880
WIRE 304 -880 304 -944
WIRE 304 -880 224 -880
WIRE 528 -880 528 -944
WIRE 528 -880 304 -880
WIRE 608 -880 608 -944
WIRE 608 -880 528 -880
WIRE -160 -832 -160 -880
WIRE -160 -816 -160 -832
WIRE -1456 -752 -1456 -912
WIRE -1456 -640 -1456 -688
WIRE -1456 -624 -1456 -640
WIRE 176 -512 176 -576
WIRE -864 -480 -976 -480
WIRE -544 -480 -864 -480
WIRE 320 -464 320 -512
WIRE -544 -448 -592 -448
WIRE 128 -448 64 -448
WIRE -272 -432 -368 -432
WIRE -96 -432 -272 -432
WIRE 176 -416 176 -432
WIRE 304 -416 176 -416
WIRE 496 -416 384 -416
WIRE -544 -384 -608 -384
WIRE 176 -384 176 -416
WIRE 496 -368 496 -416
WIRE 640 -368 496 -368
WIRE 1216 -368 1136 -368
WIRE -1488 -352 -1504 -352
WIRE -1424 -352 -1488 -352
WIRE -976 -352 -976 -400
WIRE -1424 -336 -1504 -336
WIRE -1264 -336 -1360 -336
WIRE -1248 -336 -1264 -336
WIRE 1392 -336 1392 -384
WIRE 1424 -336 1392 -336
WIRE -1472 -320 -1488 -320
WIRE -1424 -320 -1472 -320
WIRE -976 -320 -976 -352
WIRE 128 -320 80 -320
WIRE 1392 -320 1392 -336
WIRE 1424 -320 1392 -320
WIRE 1568 -320 1568 -352
WIRE 1568 -320 1488 -320
WIRE 1648 -320 1568 -320
WIRE 1760 -320 1712 -320
WIRE 1776 -320 1760 -320
WIRE -1424 -304 -1456 -304
WIRE -1248 -304 -1360 -304
WIRE 1392 -304 1392 -320
WIRE 1424 -304 1392 -304
WIRE -1504 -288 -1536 -288
WIRE -1456 -288 -1456 -304
WIRE -1456 -288 -1504 -288
WIRE -1424 -288 -1456 -288
WIRE 640 -288 640 -368
WIRE 640 -288 624 -288
WIRE 1216 -288 1216 -368
WIRE 1296 -288 1216 -288
WIRE 1424 -288 1296 -288
WIRE 176 -272 176 -304
WIRE 352 -272 176 -272
WIRE 432 -272 352 -272
WIRE 496 -272 432 -272
WIRE 1424 -272 1216 -272
WIRE 176 -240 176 -272
WIRE 768 -240 768 -304
WIRE -1456 -208 -1488 -208
WIRE -1408 -208 -1456 -208
WIRE -1408 -192 -1488 -192
WIRE -1248 -192 -1344 -192
WIRE -1232 -192 -1248 -192
WIRE -976 -192 -976 -240
WIRE 496 -192 496 -272
WIRE 752 -192 496 -192
WIRE -1456 -176 -1472 -176
WIRE -1408 -176 -1456 -176
WIRE 128 -176 80 -176
WIRE -1408 -160 -1440 -160
WIRE -1200 -160 -1344 -160
WIRE -1488 -144 -1520 -144
WIRE -1440 -144 -1440 -160
WIRE -1440 -144 -1488 -144
WIRE -1408 -144 -1440 -144
WIRE 1216 -144 1216 -192
WIRE 176 -96 176 -160
WIRE 320 -96 176 -96
WIRE 624 -96 624 -288
WIRE 624 -96 400 -96
WIRE 128 -32 64 -32
WIRE 176 16 176 -16
WIRE 384 16 384 -48
WIRE 1184 64 1184 32
WIRE 1264 64 1184 64
WIRE 1376 64 1328 64
WIRE 1392 64 1376 64
WIRE 1184 128 1184 64
WIRE 1184 256 1184 208
WIRE -1344 400 -1360 400
WIRE -1280 400 -1344 400
WIRE -1280 416 -1360 416
WIRE -1120 416 -1216 416
WIRE -1104 416 -1120 416
WIRE -1328 432 -1344 432
WIRE -1280 432 -1328 432
WIRE -1280 448 -1312 448
WIRE -1104 448 -1216 448
WIRE -1360 464 -1392 464
WIRE -1312 464 -1312 448
WIRE -1312 464 -1360 464
WIRE -1280 464 -1312 464
WIRE 176 464 176 400
WIRE 320 512 320 464
WIRE 128 528 64 528
WIRE -1312 544 -1344 544
WIRE -1264 544 -1312 544
WIRE -1264 560 -1344 560
WIRE -1104 560 -1200 560
WIRE -1088 560 -1104 560
WIRE 176 560 176 544
WIRE 304 560 176 560
WIRE 496 560 384 560
WIRE -1312 576 -1328 576
WIRE -1264 576 -1312 576
WIRE -1264 592 -1296 592
WIRE -1056 592 -1200 592
WIRE 176 592 176 560
WIRE -1344 608 -1376 608
WIRE -1296 608 -1296 592
WIRE -1296 608 -1344 608
WIRE -1264 608 -1296 608
WIRE 496 608 496 560
WIRE 640 608 496 608
WIRE 128 656 80 656
WIRE 640 688 640 608
WIRE 640 688 624 688
WIRE 176 704 176 672
WIRE 352 704 176 704
WIRE 432 704 352 704
WIRE 496 704 432 704
WIRE 176 736 176 704
WIRE 768 736 768 672
WIRE 496 784 496 704
WIRE 752 784 496 784
WIRE 128 800 80 800
WIRE 176 880 176 816
WIRE 320 880 176 880
WIRE 624 880 624 688
WIRE 624 880 400 880
WIRE 128 944 64 944
WIRE 176 992 176 960
WIRE 384 992 384 928
FLAG -976 -192 0
FLAG -976 -352 VDC
FLAG -864 -480 Vin
FLAG -592 -448 0
FLAG 1152 -1168 0
FLAG 1152 -1312 VDD
FLAG -608 -384 VCLK
FLAG -272 -432 V_snh
FLAG -1376 -816 0
FLAG -1072 -1248 VSS
FLAG -160 -832 VSS
FLAG -1040 -1040 PRBS_OUT
FLAG -1040 -992 ~PRBS_OUT
FLAG 896 -1152 VSS
FLAG -688 -912 VCLK
FLAG -1456 -640 ~VCLK
FLAG 176 16 0
FLAG 176 -576 VDD
FLAG 352 -208 0
FLAG 128 -80 0
FLAG 128 -496 0
FLAG 432 -272 Vp1
FLAG 640 -368 VDC
FLAG 64 -448 V_snh
FLAG 64 -32 V_snh
FLAG 128 -368 0
FLAG 128 -224 0
FLAG 336 -48 0
FLAG 368 -464 0
FLAG 816 -240 0
FLAG -1504 -336 PRBS_OUT
FLAG -1264 -336 CHARGE1
FLAG -1472 -320 ~RESET1
FLAG -1504 -288 VDD
FLAG -1488 -192 ~PRBS_OUT
FLAG -1248 -192 DISCHARGE1
FLAG -1456 -176 ~RESET1
FLAG -1488 -144 VDD
FLAG -1488 -352 ~VCLK
FLAG -1456 -208 ~VCLK
FLAG 80 -320 CHARGE1
FLAG 320 -512 ~CHARGE1
FLAG 80 -176 DISCHARGE1
FLAG 384 16 ~DISCHARGE1
FLAG 768 -304 RESET1
FLAG -1248 -304 ~CHARGE1
FLAG -1200 -160 ~DISCHARGE1
FLAG 1296 -1168 0
FLAG 1296 -1312 VSS
FLAG 1216 -144 0
FLAG 1568 -352 RESET1
FLAG 832 -192 VDC
FLAG 1760 -320 ~RESET1
FLAG 176 992 0
FLAG 176 400 VDD
FLAG 352 768 0
FLAG 128 896 0
FLAG 128 480 0
FLAG 432 704 Vp2
FLAG 640 608 VDC
FLAG 64 528 V_snh
FLAG 64 944 V_snh
FLAG 128 608 0
FLAG 128 752 0
FLAG 336 928 0
FLAG 368 512 0
FLAG 816 736 0
FLAG 80 656 CHARGE2
FLAG 320 464 ~CHARGE2
FLAG 80 800 DISCHARGE2
FLAG 384 992 ~DISCHARGE2
FLAG 768 672 RESET2
FLAG 832 784 VDC
FLAG 1184 256 0
FLAG 1184 32 RESET2
FLAG 1376 64 ~RESET2
FLAG -1360 416 PRBS_OUT
FLAG -1120 416 CHARGE2
FLAG -1328 432 ~RESET2
FLAG -1360 464 VDD
FLAG -1344 560 ~PRBS_OUT
FLAG -1104 560 DISCHARGE2
FLAG -1312 576 ~RESET2
FLAG -1344 608 VDD
FLAG -1344 400 ~VCLK
FLAG -1312 544 ~VCLK
FLAG -1104 448 ~CHARGE2
FLAG -1056 592 ~DISCHARGE2
FLAG 1392 -384 VSS
FLAG 1136 -288 0
FLAG 1296 -288 INIT
SYMBOL voltage -976 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0.9
SYMBOL voltage -976 -496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 0.4 {X/T})
SYMBOL SpecialFunctions\\sample -464 -448 R0
SYMATTR InstName A1
SYMBOL voltage 1152 -1264 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1.8
SYMBOL Digital\\dflop -1200 -1088 R0
SYMATTR InstName A2
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -848 -1088 R0
SYMATTR InstName A3
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -528 -1088 R0
SYMATTR InstName A4
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop -256 -1088 R0
SYMATTR InstName A5
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 32 -1088 R0
SYMATTR InstName A6
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 304 -1088 R0
SYMATTR InstName A7
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\dflop 608 -1088 R0
SYMATTR InstName A8
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMBOL Digital\\xor -1104 -1376 M0
SYMATTR InstName A9
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage -1376 -912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE({VDD} {VSS} {Tp} 500p 500p {Tp} {T})
SYMBOL Digital\\inv -1392 -752 R90
SYMATTR InstName A10
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL g 176 -416 M180
SYMATTR InstName G1
SYMATTR Value {G}
SYMBOL g 176 0 M180
SYMATTR InstName G2
SYMATTR Value {G}
SYMBOL sw 176 -400 R0
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL sw 176 -256 R0
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL sw 304 -96 R270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL sw 400 -416 R90
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL cap 336 -272 R0
SYMATTR InstName C1
SYMATTR Value 5p
SYMBOL sw 848 -192 R90
SYMATTR InstName S5
SYMATTR Value MYSW
SYMBOL Digital\\and -1392 -384 R0
SYMATTR InstName A11
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1376 -240 R0
SYMATTR InstName A12
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage 1296 -1264 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL voltage 1216 -288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE({VSS} {VDD} {4*T+Tp} 500p 500p {3*T+Tp} {8*T})
SYMBOL Digital\\inv 1648 -384 R0
SYMATTR InstName A13
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL g 176 560 M180
SYMATTR InstName G3
SYMATTR Value {G}
SYMBOL g 176 976 M180
SYMATTR InstName G4
SYMATTR Value {G}
SYMBOL sw 176 576 R0
SYMATTR InstName S6
SYMATTR Value MYSW
SYMBOL sw 176 720 R0
SYMATTR InstName S7
SYMATTR Value MYSW
SYMBOL sw 304 880 R270
SYMATTR InstName S8
SYMATTR Value MYSW
SYMBOL sw 400 560 R90
SYMATTR InstName S9
SYMATTR Value MYSW
SYMBOL cap 336 704 R0
SYMATTR InstName C2
SYMATTR Value 5p
SYMBOL sw 848 784 R90
SYMATTR InstName S10
SYMATTR Value MYSW
SYMBOL voltage 1184 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE({VDD} {VSS} {4*T} 500p 500p {4*T+Tp1} {8*T})
SYMBOL Digital\\inv 1264 0 R0
SYMATTR InstName A14
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1248 368 R0
SYMATTR InstName A15
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\and -1232 512 R0
SYMATTR InstName A16
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL Digital\\or 1456 -368 R0
SYMATTR InstName A17
SYMATTR Value2 Vhigh = 1.8 Vlow = 0
SYMATTR SpiceLine Trise = {tff_rise} Tfall = {tff_rise} Td = {td_DFF}
SYMBOL voltage 1136 -384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 96 Invisible 2
SYMATTR InstName V8
SYMATTR Value PULSE({VSS} {VDD} 0 500p 500p {Tp} {1000*T})
TEXT -688 -664 Left 2 !.include tsmc018.txt
TEXT -416 -664 Left 2 !.LIB opamp.sub
TEXT 104 240 Left 2 !.model MYSW SW(Ron=1 Roff=100Meg Vt=.9 Vh=0)
TEXT 488 -728 Left 2 !.ic V(vp) = 0 V(Q0) = 0 V(Q1) = 0 V(D0) = 0 V(D1) = 0
TEXT -1664 144 Left 2 !.options gmin = 1e-10\n.options abstol = 1e-10\n.options reltol = 0.003
TEXT -752 -240 Left 2 !.param X = 0.23
TEXT -112 -672 Left 2 !.param G = 0.0001
TEXT -1648 264 Left 2 !.tran {200*T} uic
TEXT 0 -848 Left 2 !.param td_DFF = 50p tff_rise = 500p
TEXT -1352 -768 Left 2 !.param VDD=1.8V VSS=0V T=40n Tp=20n Tp1=20n
